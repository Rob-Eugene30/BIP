{% extends "base.html" %}

{% block title %}Admin Panel{% endblock %}

{% block content %}
    <h1>Admin Panel</h1>

    <h2>Upload a Document</h2>
    <form action="{{ url_for('views.upload_document') }}" method="POST" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <button type="submit">Upload</button>
    </form>

    <div class="container">
        <h1>Add Announcement</h1>
        <form action="{{ url_for('views.add_announcement') }}" method="POST">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="content">Content</label>
                <textarea class="form-control" id="content" name="content" rows="5" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>


    <h2>Users</h2>
    <table>
        <tr>
            <th>Email</th>
            <th>Name</th>
            <th>Is Admin?</th>
        </tr>
        {% for user in users %}
            <tr>
                <td>{{ user.email }}</td>
                <td>{{ user.firstName }} {{ user.lastName }}</td>
                <td>{{ user.is_admin }}</td>
            </tr>
        {% endfor %}
    </table>

    <h2>Audit Trail</h2>
<a href="{{ url_for('views.audit_report') }}" class="btn btn-info">View Audit Report</a>


    
{% endblock %}
